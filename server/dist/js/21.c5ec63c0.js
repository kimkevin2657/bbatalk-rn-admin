(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{"444a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("top",{scopedSlots:t._u([{key:"body",fn:function(){return[a("header-edit-template",{attrs:{visibles:["add"]},on:{add:t.onAdd}})]},proxy:!0}])}),a("div",{staticClass:"row",staticStyle:{padding:"20px"}},[t._l(t.tubeDataList,(function(e){return[a("q-card",{key:e.key,staticClass:"col-xs-12 col-sm-6 col-md-4 col-lg-3",staticStyle:{padding:"5px","min-height":"335px"},attrs:{flat:""}},[e.key===t.selectedKey?a("q-video",{key:e.key,staticStyle:{height:"100%"},attrs:{src:"https://www.youtube.com/embed/"+e.key+"?autoplay=1"}}):t._e(),e.key!==t.selectedKey?a("q-img",{key:e.key,staticStyle:{cursor:"pointer"},attrs:{src:"http://img.youtube.com/vi/"+e.key+"/hqdefault.jpg"},on:{click:function(a){return t.onClickVedio(e.key)}}}):t._e(),e.key!==t.selectedKey?a("q-card-section",{staticStyle:{display:"grid","grid-template-columns":"auto 20px"}},[a("div",[a("div",{staticClass:"text-h6"},[t._v(t._s(e.title))]),a("div",{staticClass:"text-subtitle2"},[t._v(t._s(e.channelTitle))])]),a("div",[a("q-btn",{attrs:{icon:"more_vert",round:"",dense:"",flat:""}},[a("q-menu",{attrs:{offset:[80,10],"transition-show":"flip-right","transition-hide":"flip-left",anchor:"bottom left"}},[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.onRemove(e.key)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{icon:"delete",color:"negative","text-color":"white"}})],1),a("q-item-section",[a("q-item-label",[t._v("삭제")])],1)],1)],1)],1)],1)],1)]):t._e()],1)]})),a("tube-prompt-dialog",{ref:"tubePromptDialog"})],2)],1)},o=[],s=(a("e6cf"),a("ded3")),n=a.n(s),r=a("2f62"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{persistent:""},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[a("q-card",{staticStyle:{"min-width":"400px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[t._v("\n          뽜튜브 추가\n        ")])]),a("q-card-section",[t._v("\n        동영상의 "),a("b",[t._v("주소")]),t._v(" 또는 "),a("b",[t._v("ID")]),t._v("를 입력하여주세요.\n        "),a("q-icon",{attrs:{name:"info",color:"primary"}},[a("q-tooltip",[a("b",[t._v("세가지 형식 중 하나")]),a("br"),t._v("\n              1. [동영상ID]"),a("br"),t._v("\n              2. https://www.youtube.com/watch?v=[동영상ID]"),a("br"),t._v("\n              3. https://youtu.be/[동영상ID]\n          ")])],1)],1),a("q-card-section",[a("q-input",{attrs:{dense:"",autofocus:""},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.isOpen=!1}},model:{value:t.tubeStr,callback:function(e){t.tubeStr=e},expression:"tubeStr"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"취소"}}),a("q-btn",{attrs:{flat:"",label:"확인"},on:{click:t.onClick}})],1)],1)],1)},l=[],d=(a("5319"),a("ddb0"),a("2b3d"),{name:"TubePromptDialog",data(){return{isOpen:!1,tubeStr:""}},computed:n()({},Object(r["e"])("auth",["gymInfo"])),methods:n()(n()({},Object(r["b"])("community",["reqAddTube"])),{},{async onClick(){const t=this.getVedioKey();try{await this.reqAddTube({key:t,gymid:this.gymInfo.id}),this.isOpen=!1,this.tubeStr=""}catch(e){}},getVedioKey(){let t="";if(/^https:\/\/www.youtube.com\/watch\?v=/.test(this.tubeStr)){const e=new URL(this.tubeStr);t=e.searchParams.get("v")}else t=/^https:\/\/youtu.be\//.test(this.tubeStr)?this.tubeStr.split(/^https:\/\/youtu.be\//)[1]:this.tubeStr;return t},getUrlPrams(t){var e={};return window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,((t,a,i)=>{e[a]=i})),e},show(){this.isOpen=!0}})}),u=d,p=a("2877"),b=a("24e8"),m=a("f09f"),h=a("a370"),y=a("0016"),f=a("05c0"),v=a("27f9"),w=a("4b7e"),k=a("9c40"),g=a("7f67"),q=a("eebe"),_=a.n(q),S=Object(p["a"])(u,c,l,!1,null,null,null),Q=S.exports;_()(S,"components",{QDialog:b["a"],QCard:m["a"],QCardSection:h["a"],QIcon:y["a"],QTooltip:f["a"],QInput:v["a"],QCardActions:w["a"],QBtn:k["a"]}),_()(S,"directives",{ClosePopup:g["a"]});var x=a("aac1"),C=a("6fb2"),D={name:"Tube",components:{Top:x["a"],TubePromptDialog:Q,HeaderEditTemplate:C["a"]},async mounted(){this.editVisible=["add"],this.$loader.show({state:"가져오는 중..."}),await this.reqGetAllTube(),this.$loader.hide()},beforeRouteLeave(t,e,a){a()},computed:n()(n()({},Object(r["e"])("community",["tubeDataList"])),Object(r["e"])("auth",["gymInfo"])),data(){return{isHeaderEditTemplate:!0,selectedKey:void 0}},methods:n()(n()({},Object(r["b"])("community",["reqGetAllTube","reqAddTube","reqDelTube"])),{},{onAdd(){this.$refs.tubePromptDialog.show()},onClickVedio(t){this.selectedKey=t},onHeaderEvt(t){if("add"===t)return this.$refs.tubePromptDialog.show()},async onRemove(t){await this.reqDelTube({key:t})}})},O=D,T=(a("b4d5"),a("6ac0")),I=a("068f"),A=a("4e73"),P=a("1c1c"),j=a("66e5"),K=a("4074"),E=a("cb32"),L=a("0170"),V=a("f20b"),$=Object(p["a"])(O,i,o,!1,null,"76c7ecd6",null);e["default"]=$.exports;_()($,"components",{QCard:m["a"],QVideo:T["a"],QImg:I["a"],QCardSection:h["a"],QBtn:k["a"],QMenu:A["a"],QList:P["a"],QItem:j["a"],QItemSection:K["a"],QAvatar:E["a"],QItemLabel:L["a"],QBtnDropdown:V["a"]}),_()($,"directives",{ClosePopup:g["a"]})},b4d5:function(t,e,a){"use strict";a("d17d")},d17d:function(t,e,a){}}]);