(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30],{6482:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("top"),o("div",{staticClass:"q-pa-md column"},[o("q-card",[o("q-card-section",{staticClass:"row"},[o("div",{staticClass:"text-h6 col-12"},[t._v(t._s(t.operationNoticeData.title))]),o("div",{staticClass:"row col-12"},[o("div",{staticClass:"text-subtitle2"},[t._v(t._s(t.operationNoticeData.name)+" | "+t._s(t.$moment(t.operationNoticeData.create_d).format("YYYY-MM-DD HH:mm")))]),o("q-space"),o("div",{staticClass:"text-subtitle2"},[t._v("조회 "+t._s(t.operationNoticeData.see)+" ")])],1)]),o("q-separator",{attrs:{inset:""}}),o("q-card-section",[o("div",{domProps:{innerHTML:t._s(t.operationNoticeData.content)}})]),o("q-separator",{attrs:{inset:""}}),o("div",{staticClass:"row q-ma-sm"},[o("q-space"),o("q-btn",{staticClass:"q-mr-sm",attrs:{label:"수정",color:"blue-grey-6"},on:{click:t.onUpdate}}),o("q-btn",{staticClass:"q-mr-sm",attrs:{label:"삭제",color:"blue-grey-4"},on:{click:t.onDelete}}),o("q-btn",{staticClass:"q-mr-sm",attrs:{label:"글쓰기",color:"blue-grey-8"},on:{click:t.onRegister}})],1)],1)],1),o("operation-notice",{attrs:{mode:"sub"},on:{move:t.onMove}})],1)},i=[],s=(o("e6cf"),o("ded3")),r=o.n(s),n=o("2f62"),c=o("aac1"),p=o("09ae"),l={name:"OperationNoticeDetail",components:{Top:c["a"],OperationNotice:p["default"]},mounted(){this.num&&this.reqGetOperationNoticeData({num:Number(this.num)})},props:{num:String},computed:r()({},Object(n["e"])("operationNotice",["operationNoticeData"])),methods:r()(r()(r()({},Object(n["b"])("operationNotice",["reqGetOperationNoticeData","reqCheckOperationNoticePwd","reqRemoveOperationNoticeData"])),Object(n["d"])("operationNotice",["setOperationNoticeDataPwd"])),{},{onMove(t){Number(this.num)!==t&&this.reqGetOperationNoticeData({num:Number(t)})},onRegister(){this.$router.push("/manager/operation/OperationNotice/Editor")},async onUpdate(){const t=await this.passwordCheck();if(!t)return;const{code:e}=await this.reqCheckOperationNoticePwd({_id:this.operationNoticeData._id,pwd:t});if("ok"===e){this.setOperationNoticeDataPwd(t);const e=this.operationNoticeData.num;this.$router.push(`/manager/operation/OperationNotice/Editor?mode=update&num=${e}`)}},async onDelete(){const t=await this.passwordCheck();if(!t)return;const{code:e}=await this.reqRemoveOperationNoticeData({_id:this.operationNoticeData._id,pwd:t});"ok"===e&&this.$router.push("/manager/operation/OperationNotice")},passwordCheck(){return new Promise(((t,e)=>{let o="";this.$q.dialog({title:"비밀번호 확인",message:"비밀번호를 입력하세요.",prompt:{model:o,isValid:t=>t.length>7,type:"password",attrs:{autocomplete:"new-password"}},ok:{label:"확인",color:"blue-grey-8"},cancel:{label:"취소",color:"blue-grey-6"},persistent:!0,square:!0}).onOk((e=>{t(e)})).onCancel((()=>{t(void 0)}))}))}})},d=l,m=o("2877"),u=o("f09f"),h=o("a370"),N=o("2c91"),b=o("eb85"),w=o("9c40"),q=o("eebe"),D=o.n(q),v=Object(m["a"])(d,a,i,!1,null,null,null);e["default"]=v.exports;D()(v,"components",{QCard:u["a"],QCardSection:h["a"],QSpace:N["a"],QSeparator:b["a"],QBtn:w["a"]})}}]);