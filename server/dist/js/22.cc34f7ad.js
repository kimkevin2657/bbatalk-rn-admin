(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"2ee1":function(e,t,a){},7026:function(e,t,a){"use strict";a("2ee1")},"8f8c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("top",{scopedSlots:e._u([{key:"body",fn:function(){return[a("search-button",{attrs:{from:e.stateData.from,to:e.stateData.to},on:{search:function(t){var a=t.from,s=t.to;e.setStateData({from:a,to:s}),e.allQuery()}}})]},proxy:!0}])}),a("q-scroll-area",{staticStyle:{height:"calc(100vh - 108px)"}},[a("div",{staticClass:"row q-col-gutter-sm q-mt-sm q-mb-sm",class:e.$q.screen.lt.sm?"":"q-mx-sm"},[a("sales-widget",{ref:"sales",staticClass:"col-12",attrs:{title:"회원권 매출"}}),a("membership-type-widget",{ref:"membershipType",staticClass:"col-xs-12 col-sm-6"}),a("membership-ticket-widget",{ref:"membershipTicket",staticClass:"col-xs-12 col-sm-6"}),a("lesson-team-widget",{ref:"lessonTeam",staticClass:"col-xs-12 col-sm-6"}),a("lesson-ticket-widget",{ref:"lessonTicket",staticClass:"col-xs-12 col-sm-6"}),a("vip-top-ten-widget",{ref:"memberTopTen",staticClass:"col-xs-12 col-sm-6"}),a("staff-top-ten-widget",{ref:"staffTopTen",staticClass:"col-xs-12 col-sm-6"})],1)])],1)},i=[],r=(a("e6cf"),a("ded3")),o=a.n(r),l=a("2f62"),n=a("e44a"),c=a("aac1"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",[a("q-card-section",{staticClass:"q-pa-sm"},[a("div",{staticClass:"widget-title"},[e._v("매출 통계")])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",{staticClass:"q-pt-none"},[a("div",{staticClass:"row q-guatter-x-sm"},e._l(e.opts,(function(t,s){return a("q-card-section",{key:"sc-"+s,staticClass:"col-xs-12 col-sm-6 col-md-3",attrs:{horizontal:""}},[a("div",{staticStyle:{"align-self":"center"}},[a("q-avatar",{attrs:{color:t.color,"text-color":"white",icon:t.icon}})],1),a("div",{staticClass:"q-ml-md"},[a("div",{staticClass:"title"},[e._v(e._s(t.title))]),a("div",{staticClass:"sails"},[e._v(e._s(e.salesStr(e.salesStatsData[t.key])))]),a("div",{staticClass:"refund"},[e._v("환불: "+e._s(e.refundStr(e.salesStatsData[t.key])))])])])})),1)])],1)],1)},m=[],p={name:"SalesWidget",data(){return{opts:[{key:"membership",title:"회원권",icon:"mdi-ticket-account",color:"indigo"},{key:"lesson",title:"수강권",icon:"mdi-ticket-confirmation",color:"teal"},{key:"option",title:"옵션",icon:"mdi-apps",color:"grey"},{key:"total",title:"총 매출",icon:"mdi-alpha-t",color:"blue-grey"}],isLoading:!1}},mounted(){this.refresh()},computed:o()({},Object(l["e"])("salesState",["salesStatsData"])),methods:o()(o()({},Object(l["b"])("salesState",["getSalesStats"])),{},{salesStr({sales:e=0,cnt:t=0}){const a=this.$util.comma(e),s=this.$util.comma(t);return`${a}원 (${s}건)`},refundStr({refund:e=0,rcnt:t=0}){const a=this.$util.comma(e),s=this.$util.comma(t);return`${a}원 (${s}건)`},async refresh(){this.isLoading=!0,await this.getSalesStats(),await this.$sleep(1e3),this.isLoading=!1}})},h=p,g=(a("7026"),a("2877")),f=a("f09f"),u=a("a370"),b=a("6b1d"),y=a("cb32"),v=a("eebe"),w=a.n(v),S=Object(g["a"])(h,d,m,!1,null,"4a0b7514",null),T=S.exports;w()(S,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"],QAvatar:y["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget"},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",[a("apexchart",{attrs:{type:"bar",options:e.options,series:e.membershipTypeData.series}})],1)],1)],1)},q=[],x=a("69a1"),C={name:"MembershipTypeWidget",props:{title:{type:String,default:"회원유형 계약 건수"}},mounted(){this.refresh()},data(){return{isLoading:!1}},computed:o()(o()({},Object(l["e"])("salesState",["membershipTypeData"])),{},{options(){return{chart:{id:"membership-ticket-widget",stacked:!0,height:"230",defaultLocale:"ko",locales:x.locales},xaxis:{categories:this.membershipTypeData.category,labels:{rotateAlways:!1,rotate:0,hideOverlappingLabels:!0}},yaxis:{labels:{formatter:e=>e}},tooltip:{shared:!0,followCursor:!0,inverseOrder:!0,x:{show:!0,format:"yyyy년 MM월 dd일 HH:mm"}}}}}),methods:o()(o()({},Object(l["b"])("salesState",["getMembershipTypeWidget"])),{},{async refresh(){this.isLoading=!0,await this.getMembershipTypeWidget(),await this.$sleep(1e3),this.isLoading=!1}})},L=C,k=Object(g["a"])(L,_,q,!1,null,null,null),$=k.exports;w()(k,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"]});var Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget"},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",[a("apexchart",{attrs:{type:"bar",options:e.options,series:e.membershipTicketData.series}})],1)],1)],1)},D=[],O={name:"MembershipWidget",props:{title:{type:String,default:"회원권 유형별 계약 건수"}},mounted(){this.refresh()},data(){return{isLoading:!1}},computed:o()(o()({},Object(l["e"])("salesState",["membershipTicketData"])),{},{options(){return{chart:{id:"membership-type-widget",stacked:!0,height:"230",defaultLocale:"ko",locales:x.locales},xaxis:{categories:this.membershipTicketData.category,labels:{rotateAlways:!1,rotate:0,hideOverlappingLabels:!0}},yaxis:{labels:{formatter:e=>e}},tooltip:{shared:!0,followCursor:!0,inverseOrder:!0,x:{show:!0,format:"yyyy년 MM월 dd일 HH:mm"}}}}}),methods:o()(o()({},Object(l["b"])("salesState",["getMembershipTicketWidget"])),{},{async refresh(){this.isLoading=!0,await this.getMembershipTicketWidget(),await this.$sleep(1e3),this.isLoading=!1}})},j=O,W=Object(g["a"])(j,Q,D,!1,null,null,null),M=W.exports;w()(W,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"]});var P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget"},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",[a("apexchart",{attrs:{type:"bar",options:e.options,series:e.lessonTeamData.series}})],1)],1)],1)},A=[],E={name:"LessonTeamWidget",props:{title:{type:String,default:"수강팀 계약 건수"}},mounted(){this.refresh()},data(){return{isLoading:!1}},computed:o()(o()({},Object(l["e"])("salesState",["lessonTeamData"])),{},{options(){return{chart:{id:"lesson-team-widget",stacked:!0,height:"230",defaultLocale:"ko",locales:x.locales},xaxis:{categories:this.lessonTeamData.category,labels:{rotateAlways:!1,rotate:0,hideOverlappingLabels:!0}},yaxis:{labels:{formatter:e=>e}},tooltip:{shared:!0,followCursor:!0,inverseOrder:!0,x:{show:!0,format:"yyyy년 MM월 dd일 HH:mm"}}}}}),methods:o()(o()({},Object(l["b"])("salesState",["getLessonTeamWidget"])),{},{async refresh(){this.isLoading=!0,await this.getLessonTeamWidget(),await this.$sleep(1e3),this.isLoading=!1}})},F=E,H=Object(g["a"])(F,P,A,!1,null,null,null),G=H.exports;w()(H,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget"},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",[a("apexchart",{attrs:{type:"bar",options:e.options,series:e.lessonTicketData.series}})],1)],1)],1)},N=[],z={name:"LessonTicketWidget",props:{title:{type:String,default:"수강권 계약 건수"}},mounted(){this.refresh()},data(){return{isLoading:!1}},computed:o()(o()({},Object(l["e"])("salesState",["lessonTicketData"])),{},{options(){return{chart:{id:"lesson-ticket-widget",stacked:!0,height:"230",defaultLocale:"ko",locales:x.locales},xaxis:{categories:this.lessonTicketData.category,labels:{rotateAlways:!1,rotate:0,hideOverlappingLabels:!0}},yaxis:{labels:{formatter:e=>e}},tooltip:{shared:!0,followCursor:!0,inverseOrder:!0,x:{show:!0,format:"yyyy년 MM월 dd일 HH:mm"}}}}}),methods:o()(o()({},Object(l["b"])("salesState",["getLessonTicketWidget"])),{},{async refresh(){this.isLoading=!0,await this.getLessonTicketWidget(),await this.$sleep(1e3),this.isLoading=!1}})},J=z,V=Object(g["a"])(J,I,N,!1,null,null,null),B=V.exports;w()(V,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"]});var K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget",staticStyle:{height:"100%",overflow:"hidden"}},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",{staticStyle:{height:"100%"}},[a("q-scroll-area",{staticStyle:{height:"100%"}},[a("q-table",{attrs:{data:e.memberTopTenDataList,columns:e.columns,pagination:{rowsPerPage:10},"no-data-label":"데이터를 찾지 못하였습니다.",dense:"",flat:""},scopedSlots:e._u([{key:"body-cell-name",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-item",{attrs:{dense:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"27px",icon:null===t.row.photo?e.getFace(t.row.gender):void 0,"text-color":null===t.row.photo?e.getFaceColor(t.row.gender):void 0}},[t.row.photo?a("img",{attrs:{src:t.row.photo}}):e._e()])],1),a("q-item-section",[a("div",{staticClass:"text-blue-9 textlink",on:{click:function(a){return a.stopPropagation(),e.onClickDetailMember(t.row._id)}}},[e._v(" "+e._s(t.value))])])],1)],1)]}},{key:"bottom",fn:function(){},proxy:!0}])})],1)],1)],1)],1)},R=[],U={name:"VipTopTenWidget",props:{title:{type:String,default:"매출 상위 고객 Top10"}},async mounted(){await this.refresh()},data(){return{columns:[{name:"name",align:"left",label:"회원명",field:"name",format:(e,t)=>{let a=e;return t.engName?a+=` (${t.special_n}, ${t.engName})`:a+=` (${t.special_n})`,a}},{name:"price",align:"right",label:"구매금",field:"price",format:e=>e?`${e.toLocaleString()}원`:"0원"}],isLoading:!1}},computed:o()({},Object(l["e"])("salesState",["memberTopTenDataList"])),methods:o()(o()(o()({},Object(l["b"])("salesState",["getMemberTopTenWidget"])),Object(l["b"])("member",["reqGetMemberData"])),{},{getFace(e){return"woman"===e?"mdi-face-woman":"mdi-face"},getFaceColor(e){return"man"===e?"primary":"woman"===e?"negative":"black"},async onClickDetailMember(e){await this.reqGetMemberData({_id:e}),this.$router.push("/manager/member/MemberDetail")},async refresh(){this.isLoading=!0,await this.getMemberTopTenWidget(),await this.$sleep(1e3),this.isLoading=!1}})},X=U,Y=a("4983"),Z=a("eaac"),ee=a("db86"),te=a("66e5"),ae=a("4074"),se=Object(g["a"])(X,K,R,!1,null,null,null),ie=se.exports;w()(se,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"],QScrollArea:Y["a"],QTable:Z["a"],QTd:ee["a"],QItem:te["a"],QItemSection:ae["a"],QAvatar:y["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-card",{staticClass:"widget",staticStyle:{height:"100%",overflow:"hidden"}},[a("q-card-section",[a("div",{staticClass:"widget-title"},[e._v(e._s(e.title))])]),a("div",{staticStyle:{height:"10px"}},[e.isLoading?a("q-linear-progress",{attrs:{indeterminate:"",color:"blue-grey"}}):e._e()],1),a("q-card-section",{staticStyle:{height:"100%"}},[a("q-scroll-area",{staticStyle:{height:"100%"}},[a("q-table",{attrs:{data:e.staffTopTenDataList,columns:e.columns,pagination:{rowsPerPage:10},"no-data-label":"데이터를 찾지 못하였습니다.",dense:"",flat:""},scopedSlots:e._u([{key:"body-cell-name",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-item",{attrs:{dense:""}},[a("q-item-section",{attrs:{avatar:""}},[a("q-avatar",{attrs:{size:"27px",icon:null===t.row.photo?e.getFace(t.row.gender):void 0,"text-color":null===t.row.photo?e.getFaceColor(t.row.gender):void 0}},[t.row.photo?a("img",{attrs:{src:t.row.photo}}):e._e()])],1),a("q-item-section",[a("div",{staticClass:"text-blue-9 textlink",on:{click:function(a){return a.stopPropagation(),e.onClickDetailStaff(t.row._id)}}},[e._v(" "+e._s(t.value))])])],1)],1)]}},{key:"bottom",fn:function(){},proxy:!0}])})],1)],1)],1)],1)},oe=[],le={name:"StaffTopTenWidget",props:{title:{type:String,default:"실적 상위 강사 Top10"}},mounted(){this.refresh()},data(){return{columns:[{name:"name",align:"left",label:"강사명",field:"name",format:(e,t)=>{let a=e;return t.engName?a+=` (${t.special_n}, ${t.engName})`:a+=` (${t.special_n})`,a}},{name:"price",align:"right",label:"실적금",field:"price",format:e=>e?`${e.toLocaleString()}원`:"0원"}],isLoading:!1}},computed:o()({},Object(l["e"])("salesState",["staffTopTenDataList"])),methods:o()(o()(o()({},Object(l["b"])("staff",["reqGetStaffData"])),Object(l["b"])("salesState",["getStaffTopTenWidget"])),{},{getFace(e){return"woman"===e?"mdi-face-woman":"mdi-face"},getFaceColor(e){return"man"===e?"primary":"woman"===e?"negative":"black"},async onClickDetailStaff(e){await this.reqGetStaffData({_id:e}),this.$router.push("/manager/staff/StaffDetail")},async refresh(){this.isLoading=!0,await this.getStaffTopTenWidget(),await this.$sleep(1e3),this.isLoading=!1}})},ne=le,ce=Object(g["a"])(ne,re,oe,!1,null,null,null),de=ce.exports;w()(ce,"components",{QCard:f["a"],QCardSection:u["a"],QLinearProgress:b["a"],QScrollArea:Y["a"],QTable:Z["a"],QTd:ee["a"],QItem:te["a"],QItemSection:ae["a"],QAvatar:y["a"]});var me={name:"SalesState",components:{Top:c["a"],SearchButton:n["a"],SalesWidget:T,MembershipTypeWidget:$,MembershipTicketWidget:M,LessonTeamWidget:G,LessonTicketWidget:B,VipTopTenWidget:ie,StaffTopTenWidget:de},mounted(){},data(){return{}},computed:o()({},Object(l["e"])("salesState",["stateData"])),methods:o()(o()({},Object(l["d"])("salesState",["setStateData","initStateData"])),{},{async allQuery(){this.$refs.sales.refresh(),this.$refs.membershipType.refresh(),this.$refs.membershipTicket.refresh(),this.$refs.lessonTeam.refresh(),this.$refs.lessonTicket.refresh(),this.$refs.memberTopTen.refresh(),this.$refs.staffTopTen.refresh()}})},pe=me,he=Object(g["a"])(pe,s,i,!1,null,null,null);t["default"]=he.exports;w()(he,"components",{QScrollArea:Y["a"]})}}]);